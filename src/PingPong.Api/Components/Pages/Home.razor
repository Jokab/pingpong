@page "/"
@rendermode RenderMode.InteractiveServer

<PageTitle>Pingis</PageTitle>

<MudStack Spacing="3">
    <MudGrid Spacing="3">
        <MudItem xs="12" md="5" lg="4">
            <MatchSubmissionForm OnSubmitted="RefreshStandingsAsync" />
        </MudItem>
        <MudItem xs="12" md="7" lg="8">
            <StandingsTable @ref="_standingsRef" />
        </MudItem>
    </MudGrid>
</MudStack>

@code {
    private StandingsTable? _standingsRef;

    private async Task RefreshStandingsAsync()
    {
        if (_standingsRef is not null)
        {
            await _standingsRef.RefreshAsync();
        }
    }
}
